{"version":3,"sources":["js/progress_bar.js"],"names":["audio","document","getElementById","volume","isPlaying","playpauseBtn","querySelectorAll","forEach","btn","addEventListener","togglePlay","e","keyCode","preventDefault","pause","querySelector","setAttribute","play","button","progressBar","leftbar","actualTimeSpan","durationSpan","clicking","event","progressBarTracking","changeMusicTime","percentage","refreshMusicSpans","progressBarAuto","cursorX","clientX","getBarInfos","offsetLeft","offsetRight","barWidth","style","width","duration","actualTime","currentTime","offsetWidth","barHeight","offsetHeight","barRect","getBoundingClientRect","barLeft","left","barRight","right","barTop","top","barBottom","bottom","innerHTML","formatTime","seconds","minutes","Math","floor"],"mappings":"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","file":"progress_bar.d91ada3d.js","sourceRoot":"..\\src","sourcesContent":["const audio = document.getElementById('playback');\r\naudio.volume = 0.10;\r\nvar isPlaying = false;\r\n\r\nconst playpauseBtn = document.querySelectorAll('.play-pause-action');\r\n\r\nplaypauseBtn.forEach(btn => {\r\n    btn.addEventListener('click', function() {\r\n        togglePlay();\r\n    });\r\n});\r\n\r\ndocument.addEventListener(\"keyup\", (e) => {\r\n    if(e.keyCode == 32){\r\n        togglePlay();\r\n        e.preventDefault();\r\n    }\r\n});\r\n\r\n\r\nplaypauseBtn.forEach(btn => {\r\n    btn.addEventListener(\"keyup\", (e) => {\r\n        if(e.keyCode == 32){\r\n            togglePlay();\r\n        }\r\n    });\r\n});\r\n\r\n\r\nfunction togglePlay() {\r\n    if (isPlaying == true) {\r\n        audio.pause();\r\n        document.querySelector('html').setAttribute('isplaying', 'false');\r\n        isPlaying = false;\r\n    } else {\r\n        audio.play();\r\n        document.querySelector('html').setAttribute('isplaying', 'true');\r\n        isPlaying = true;\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\nconst button = document.getElementById('progress-bar__button');\r\nconst progressBar = document.querySelector('.progress-bar');\r\nconst leftbar = document.querySelector('.progress-bar__bar__time');\r\nconst actualTimeSpan = document.querySelector('.progress-bar__time');\r\nconst durationSpan = document.querySelector('.progress-bar__duration');\r\nvar clicking = false;\r\n\r\n\r\n\r\nprogressBar.addEventListener('mousedown', (event) => {\r\n    clicking = true;\r\n    progressBarTracking(event);\r\n});\r\n\r\ndocument.addEventListener('mouseup', function() {\r\n    if (clicking == true) {\r\n        clicking = false;\r\n        changeMusicTime(percentage);\r\n    }\r\n});\r\n\r\ndocument.addEventListener('mousemove', (event) => {\r\n    if (clicking == true) {\r\n        progressBarTracking(event);\r\n    }\r\n});\r\n\r\naudio.addEventListener('timeupdate', () => {\r\n    refreshMusicSpans();\r\n    progressBarAuto();\r\n});\r\n\r\naudio.addEventListener('ended', () => {\r\n    if (isPlaying == true) {\r\n        audio.play();\r\n    }\r\n});\r\n\r\n\r\n\r\n\r\nfunction progressBarTracking(e) {\r\n    cursorX = e.clientX;\r\n    getBarInfos();\r\n    \r\n    if (cursorX <= offsetLeft) {\r\n        cursorX = offsetLeft;\r\n    }\r\n    else if (cursorX >= offsetRight) {\r\n        cursorX = offsetRight;\r\n    }\r\n\r\n    percentage = ((cursorX - offsetLeft) / barWidth) * 100;\r\n    leftbar.style.width = (percentage) + '%';\r\n}\r\n\r\nfunction progressBarAuto() {\r\n    if (clicking == false) {\r\n        let duration = audio.duration;\r\n        let actualTime = audio.currentTime;\r\n        let percentage = (actualTime/duration) * 100;\r\n        leftbar.style.width = percentage + '%';\r\n    }\r\n}\r\n\r\nfunction getBarInfos() {\r\n    barWidth = progressBar.offsetWidth;\r\n    barHeight = progressBar.offsetHeight;\r\n    offsetLeft = progressBar.offsetLeft;\r\n    offsetRight = barWidth + offsetLeft;\r\n    barRect = progressBar.getBoundingClientRect();\r\n        barLeft = barRect.left;\r\n        barRight = barRect.right;\r\n        barTop = barRect.top;\r\n        barBottom = barRect.bottom;\r\n}\r\n\r\nfunction changeMusicTime(percentage) {\r\n    var duration = audio.duration;\r\n    percentage = (percentage / 100) * duration;\r\n    audio.currentTime = percentage;\r\n}\r\n\r\nfunction refreshMusicSpans() {\r\n    var duration = audio.duration;\r\n    var actualTime = audio.currentTime;\r\n    durationSpan.innerHTML = formatTime(duration);\r\n    actualTimeSpan.innerHTML = formatTime(actualTime);\r\n}\r\n\r\nfunction formatTime(seconds) {\r\n    minutes = Math.floor(seconds / 60);\r\n    minutes = (minutes <= 10) ? minutes : \"0\" + minutes;\r\n    seconds = Math.floor(seconds % 60);\r\n    seconds = (seconds >= 10) ? seconds : \"0\" + seconds;\r\n    return minutes + \":\" + seconds;\r\n}\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    refreshMusicSpans();\r\n}, false);"]}